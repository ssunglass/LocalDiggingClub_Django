!function(t){var o=function(n,a,e,i,r,l){t(e).submit(function(c){c.preventDefault(),t.ajax({type:t(this).attr("method"),url:t(this).attr("action"),data:t(this).serialize(),success:function(c){t(c).find(l).length>0?(t(n).find(a).html(c),t(e).attr("action",i),o(n,a,e,i,r,l)):(t(n).modal("hide"),window.location.href=r)}})})};t.fn.modalForm=function(n){var a=t.extend({modalID:"#modal",modalContent:".modal-content",modalForm:".modal-content form",formURL:null,successURL:"/",errorClass:".invalid"},n);return this.each(function(){t(this).click(function(n){var e,i,r,l,c,d;e=a.modalID,i=a.modalContent,r=a.modalForm,l=a.formURL,c=a.successURL,d=a.errorClass,t(i).load(l,function(){t(e).modal("show"),t(r).attr("action",l),o(e,i,r,l,c,d)}),n.preventDefault()})})}}(jQuery);
